[{"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\index.js":"1","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\views\\Register.jsx":"2","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\PostModal.jsx":"3","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\Header.jsx":"4","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\views\\UserNews.jsx":"5","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\App.jsx":"6","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\views\\Login.jsx":"7","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\Modal.jsx":"8","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\reportWebVitals.js":"9","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\UserModal.jsx":"10","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\Footer.jsx":"11","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\NewsCard.jsx":"12","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\webContext.js":"13","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\messageContext.js":"14","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\Message.jsx":"15","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\MenuBar.jsx":"16","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\views\\MainNews.jsx":"17","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\LikeButton.jsx":"18","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\userContext.js":"19"},{"size":529,"mtime":1617586083851,"results":"20","hashOfConfig":"21"},{"size":3569,"mtime":1619159345225,"results":"22","hashOfConfig":"21"},{"size":3121,"mtime":1619081807527,"results":"23","hashOfConfig":"21"},{"size":1372,"mtime":1619163687683,"results":"24","hashOfConfig":"21"},{"size":4899,"mtime":1619165660987,"results":"25","hashOfConfig":"21"},{"size":1865,"mtime":1619161700970,"results":"26","hashOfConfig":"21"},{"size":2515,"mtime":1618997998737,"results":"27","hashOfConfig":"21"},{"size":442,"mtime":1619064617761,"results":"28","hashOfConfig":"21"},{"size":375,"mtime":1617586083852,"results":"29","hashOfConfig":"21"},{"size":1143,"mtime":1619064672763,"results":"30","hashOfConfig":"21"},{"size":180,"mtime":1617586083941,"results":"31","hashOfConfig":"21"},{"size":3263,"mtime":1619406599077,"results":"32","hashOfConfig":"21"},{"size":86,"mtime":1617586083862,"results":"33","hashOfConfig":"21"},{"size":90,"mtime":1618978045029,"results":"34","hashOfConfig":"21"},{"size":471,"mtime":1618979538955,"results":"35","hashOfConfig":"21"},{"size":752,"mtime":1619081034266,"results":"36","hashOfConfig":"21"},{"size":157,"mtime":1617586083929,"results":"37","hashOfConfig":"21"},{"size":1204,"mtime":1619406595933,"results":"38","hashOfConfig":"21"},{"size":87,"mtime":1617586083855,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"1xxwnpv",{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"42"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"42"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\index.js",[],["84","85"],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\views\\Register.jsx",["86"],"import { useState, useContext } from 'react'\r\nimport { UserContext } from '../userContext'\r\nimport { WebContext } from '../webContext'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { MessageContext } from '../messageContext'\r\n\r\nexport const Register = () => {\r\n    let history = useHistory();\r\n    const site = useContext(WebContext);\r\n    const {setMessage} = useContext(MessageContext)\r\n    const [imageInfo, setImageInfo] = useState(null)\r\n    const [registerInfo, setRegisterInfo] = useState({\r\n        'email': '',\r\n        'username': '',\r\n        'password': '',\r\n        'image_file': ''\r\n    })\r\n    const [error, setError] = useState('')\r\n    const {user, setUser} = useContext(UserContext)\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        let data = new FormData()\r\n        let headers = new Headers()\r\n        headers.set('Authorization', 'Basic ' + window.btoa(registerInfo.email + \":\" + registerInfo.password))\r\n        data.append('file', imageInfo)\r\n\r\n        fetch(`${site}api/user/register`, {\r\n            method: 'POST',\r\n            headers: {'Content-type': 'application/json'},\r\n            body: JSON.stringify(registerInfo)\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            if (res.error) {\r\n                setError({\r\n                    \"message\": res.error\r\n                })\r\n                throw new Error(res.error);\r\n            } \r\n        })\r\n        .then(() => {\r\n            fetch(`${site}api/user/register/image`, {\r\n                method: 'POST',\r\n                body: data\r\n            })\r\n        })\r\n        .then(() => {\r\n            const res = fetch(`${site}api/tokens`, {\r\n                method: 'POST',\r\n                headers: headers\r\n            })\r\n\r\n            return res\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            setUser({\r\n                username: res.username,\r\n                token: res.token,\r\n                user_id: res.user_id\r\n            })\r\n            setMessage({\r\n                message: `Welcome back ${res.username}!`,\r\n                messageType: \"success\"\r\n            })\r\n            history.push(\"/\")\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n\r\n    return (\r\n        <div id=\"register\">\r\n            <div className=\"container\">\r\n                {error && <p>{error.message}</p>}\r\n                <form className=\"form form--register\" onSubmit={handleSubmit}>\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input className=\"form__input\" id=\"email\" type=\"text\" onChange={(e) => setRegisterInfo({...registerInfo, email: e.target.value})} />\r\n                    <label htmlFor=\"username\">Username</label>\r\n                    <input className=\"form__input\" id=\"username\" type=\"text\" onChange={(e) => setRegisterInfo({...registerInfo, username: e.target.value})} />\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input className=\"form__input\" id=\"password\" type=\"password\" onChange={(e) => setRegisterInfo({...registerInfo, password: e.target.value})} />\r\n                    <input type=\"file\" onChange={(e) => {\r\n                        setImageInfo(e.target.files[0])\r\n                        setRegisterInfo({...registerInfo, image_file: e.target.files[0].name})\r\n                        }} />\r\n                    <input className=\"btn btn--submit\" type=\"submit\" value=\"Register\" />\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\PostModal.jsx",["87","88"],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\Header.jsx",[],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\views\\UserNews.jsx",["89","90","91"],"import { useState, useEffect, useContext } from 'react'\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { WebContext } from '../webContext'\r\nimport { UserContext } from '../userContext'\r\nimport { MessageContext } from '../messageContext'\r\nimport MenuBar from '../components/MenuBar'\r\nimport Message from '../components/Message'\r\nimport Modal from '../components/Modal'\r\nimport NewsCard from '../components/NewsCard'\r\n\r\nconst UserNews = () => {\r\n    const [news, setNews] = useState([])\r\n    const [filteredNews, setfilteredNews] = useState([])\r\n    const [modal, setModal] = useState(false)\r\n    const [userInfo, setuserInfo] = useState({\r\n        userId: '',\r\n        userImg: ''\r\n    })\r\n    const [currentModal, setcurrentModal] = useState('')\r\n\r\n    // Pagination\r\n    const [nextPage, setnextPage] = useState('')\r\n    const [prevPage, setprevPage] = useState('')\r\n\r\n    const site = useContext(WebContext)\r\n    const {user} = useContext(UserContext)\r\n    const {message, setMessage} = useContext(MessageContext)\r\n\r\n    useEffect(() => {\r\n        updateUserNews()\r\n    }, [])\r\n\r\n    const fetchUserNews = async (page) => {\r\n        let res\r\n\r\n        if (page) {\r\n            res = await fetch(`${site}${page}`)\r\n        } else {\r\n            res = await fetch(`${site}api/posts`)\r\n        }\r\n\r\n        const data = await res.json()\r\n        setnextPage(data._links.next)\r\n        setprevPage(data._links.prev)\r\n\r\n        return data.items\r\n    }\r\n\r\n    const updateUserNews = async (page) => {\r\n        const results = await fetchUserNews(page)\r\n        setNews([...results])\r\n        setfilteredNews([...results])\r\n    }\r\n\r\n    const removePostFromList = (id) => {\r\n        let array = [...filteredNews]\r\n\r\n        const item = filteredNews.filter(item => item.id === id)\r\n        const index = filteredNews.indexOf(item[0])\r\n\r\n        if (index > -1) {\r\n            array.splice(index, 1)\r\n            setfilteredNews(array)\r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <div id=\"usernews\">\r\n            <Message />\r\n            <MenuBar \r\n                news={news}\r\n                setfilteredNews={setfilteredNews}\r\n                setnextPage={setnextPage}\r\n                setprevPage={setprevPage}\r\n            />\r\n            <div onClick={() => {setModal(!modal)}} className={`modal-container ${modal ? 'modal-active' : ''}`} ></div>\r\n            <div className=\"grid-container\">\r\n                <ul className=\"container\">\r\n                    {filteredNews.map((item, index) => {\r\n                        return (\r\n                            <NewsCard \r\n                                key={index}\r\n                                item={item}\r\n                                setModal={setModal}\r\n                                setuserInfo={setuserInfo}\r\n                                setcurrentModal={setcurrentModal}\r\n                                removePostFromList={removePostFromList}\r\n                            />\r\n                        )\r\n                    })}\r\n                    {!filteredNews.length &&                 \r\n                    <div className=\"loading\">\r\n                        <div className=\"loading__circle loading__circle--1\"></div>\r\n                        <div className=\"loading__circle loading__circle--2\"></div>\r\n                        <div className=\"loading__circle loading__circle--3\"></div>\r\n                    </div>}\r\n                </ul>\r\n            </div>\r\n\r\n            <div>\r\n                {prevPage && <button className=\"btn btn--pagination\" onClick={() => updateUserNews(prevPage)}>Prev Page</button>}\r\n                {nextPage && <button className=\"btn btn--pagination\" onClick={() => updateUserNews(nextPage)}>Next Page</button>}\r\n            </div>\r\n                <CSSTransition\r\n                    in={modal}\r\n                    timeout={300}\r\n                    classNames=\"fade\"\r\n                    unmountOnExit\r\n                >\r\n                    {currentModal === 'newPost' \r\n                    ?\r\n                    <Modal \r\n                        modalType=\"newPost\" \r\n                        updateNews={updateUserNews}\r\n                        setModal={setModal}\r\n                        onClose={() => setModal(false)} \r\n                    />\r\n                    :\r\n                    <Modal \r\n                        modalType=\"userInfo\"\r\n                        userId={userInfo.userId} \r\n                        userImg={userInfo.userImg}\r\n                        onClose={() => setModal(false)} \r\n                    />\r\n                }\r\n                </CSSTransition>\r\n\r\n            {user.token && \r\n                <button onClick={() => { \r\n                    setModal(true) \r\n                    setcurrentModal('newPost')\r\n                    }}>Add Post\r\n                </button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserNews\r\n","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\App.jsx",[],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\views\\Login.jsx",["92"],"import { useState, useContext } from 'react'\r\nimport { WebContext } from '../webContext'\r\nimport { UserContext } from '../userContext'\r\nimport { MessageContext } from '../messageContext'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Message from '../components/Message'\r\n\r\nconst Login = () => {\r\n    let history = useHistory();\r\n    const site = useContext(WebContext)\r\n    const [loginInfo, setloginInfo] = useState({\r\n        'email': '',\r\n        'password': ''\r\n    })\r\n    const {user, setUser} = useContext(UserContext)\r\n    const {setMessage} = useContext(MessageContext)\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        let headers = new Headers()\r\n        headers.set('Authorization', 'Basic ' + window.btoa(loginInfo.email + \":\" + loginInfo.password))\r\n\r\n        fetch(`${site}api/tokens`, {\r\n            method: 'POST',\r\n            headers: headers\r\n        })\r\n        .then(res =>  {\r\n            if (res.ok) {\r\n                return res.json()\r\n            }\r\n        })\r\n        .then(res => {\r\n            if (res !== undefined) {\r\n                console.log(res)\r\n                setUser({\r\n                    username: res.username,\r\n                    token: res.token,\r\n                    user_id: res.user_id\r\n                })\r\n                setMessage({\r\n                    message: `Welcome back ${res.username}!`,\r\n                    messageType: \"success\"\r\n                })\r\n                history.push(\"/\")\r\n            }\r\n            else {\r\n                setMessage({\r\n                    message: \"Invalid username or password\",\r\n                    messageType: \"error\"\r\n                })\r\n            }\r\n        })        \r\n    }\r\n\r\n    return (\r\n        <div id=\"login\">\r\n            <Message />\r\n            <div className=\"container\">\r\n                <form className=\"form form--login\" onSubmit={handleSubmit}>\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input className=\"form__input\" type=\"text\" id=\"email\" onChange={(e) => setloginInfo({...loginInfo, email: e.target.value})} />\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input className=\"form__input\" type=\"password\" htmlFor=\"password\" onChange={(e) => setloginInfo({...loginInfo, password: e.target.value})} />\r\n                    <input className=\"btn btn--submit\" type=\"submit\" value=\"Login\" />\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\Modal.jsx",[],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\reportWebVitals.js",[],["93","94"],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\UserModal.jsx",["95","96","97","98"],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\Footer.jsx",[],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\NewsCard.jsx",["99","100","101"],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\webContext.js",[],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\messageContext.js",[],["102","103"],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\Message.jsx",[],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\MenuBar.jsx",[],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\views\\MainNews.jsx",[],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\components\\LikeButton.jsx",[],"C:\\Users\\s-joseph\\Documents\\Testing\\fastapi\\webdev-news-react\\src\\userContext.js",[],{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","replacedBy":"107"},{"ruleId":"108","severity":1,"message":"109","line":19,"column":12,"nodeType":"110","messageId":"111","endLine":19,"endColumn":16},{"ruleId":"108","severity":1,"message":"112","line":12,"column":18,"nodeType":"110","messageId":"111","endLine":12,"endColumn":25},{"ruleId":"113","severity":1,"message":"114","line":30,"column":48,"nodeType":"115","messageId":"116","endLine":30,"endColumn":49},{"ruleId":"108","severity":1,"message":"117","line":27,"column":12,"nodeType":"110","messageId":"111","endLine":27,"endColumn":19},{"ruleId":"108","severity":1,"message":"118","line":27,"column":21,"nodeType":"110","messageId":"111","endLine":27,"endColumn":31},{"ruleId":"119","severity":1,"message":"120","line":31,"column":8,"nodeType":"121","endLine":31,"endColumn":10,"suggestions":"122"},{"ruleId":"108","severity":1,"message":"109","line":15,"column":12,"nodeType":"110","messageId":"111","endLine":15,"endColumn":16},{"ruleId":"104","replacedBy":"123"},{"ruleId":"106","replacedBy":"124"},{"ruleId":"108","severity":1,"message":"109","line":8,"column":12,"nodeType":"110","messageId":"111","endLine":8,"endColumn":16},{"ruleId":"108","severity":1,"message":"112","line":8,"column":18,"nodeType":"110","messageId":"111","endLine":8,"endColumn":25},{"ruleId":"119","severity":1,"message":"125","line":14,"column":8,"nodeType":"121","endLine":14,"endColumn":10,"suggestions":"126"},{"ruleId":"127","severity":1,"message":"128","line":31,"column":17,"nodeType":"129","endLine":31,"endColumn":38},{"ruleId":"113","severity":1,"message":"114","line":14,"column":44,"nodeType":"115","messageId":"116","endLine":14,"endColumn":45},{"ruleId":"127","severity":1,"message":"128","line":58,"column":17,"nodeType":"129","endLine":58,"endColumn":46},{"ruleId":"127","severity":1,"message":"128","line":72,"column":21,"nodeType":"129","endLine":72,"endColumn":55},{"ruleId":"104","replacedBy":"130"},{"ruleId":"106","replacedBy":"131"},"no-native-reassign",["132"],"no-negated-in-lhs",["133"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","'setUser' is assigned a value but never used.","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","'message' is assigned a value but never used.","'setMessage' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'updateUserNews'. Either include it or remove the dependency array.","ArrayExpression",["134"],["132"],["133"],"React Hook useEffect has a missing dependency: 'getUsersPosts'. Either include it or remove the dependency array.",["135"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["132"],["133"],"no-global-assign","no-unsafe-negation",{"desc":"136","fix":"137"},{"desc":"138","fix":"139"},"Update the dependencies array to be: [updateUserNews]",{"range":"140","text":"141"},"Update the dependencies array to be: [getUsersPosts]",{"range":"142","text":"143"},[1093,1095],"[updateUserNews]",[400,402],"[getUsersPosts]"]
